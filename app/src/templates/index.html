<!DOCTYPE html>
<html>
<head>
    <title>Hello World</title>
</head>
<body>
    <h1>Hello World!</h1>
    <button onclick="clickButton()">click!</button>
    <button onclick="updateButton()">update!</button>
    <textarea readonly></textarea>
    <script>
        function clickButton() { 
            const timestamp = Math.floor(Date.now() / 1000); 
            fetch('/clicks', { 
                method: 'POST', 
                headers: {
                    'Content-Type': 'application/json', 
                },
                body: JSON.stringify({ timestamp }), 
            });
        }

        function updateButton() { 
            fetch('/clicks')
                .then(response => response.json())
                .then(data => {
                    const textarea = document.querySelector('textarea'); 
                    textarea.value = JSON.stringify(data, null, 2);
                });
        }
    </script>
</body>
</html>
